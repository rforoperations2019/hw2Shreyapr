---
title: "Leaflet2"
output: html_document
---

```{r setup, include=FALSE}
#Install these packages

require(rgdal)
require(leaflet)
require(leaflet.extras)

require(dplyr)
require(readxl)
require(stringr)
require(rgeos)
require(sp)
```




#Reading data 
```{r}
Homes <- read.csv('C:/Users/shrey/Dropbox/rShiny/hw2/hw2leaflet/hw2Shreyapr/DSHS_Adult_Family_Homes.csv')
View(Homes)
```



#blank Map with Basemap
```{r}
leaflet() %>%
  addProviderTiles(providers$Esri.WorldImagery)
```


#add layerControls()
```{r}


leaflet(data = Homes) %>%
  addProviderTiles(providers$Esri.NatGeoWorldMap, options = providerTileOptions(noWrap = TRUE), group = "NGC") %>%
  addProviderTiles(providers$Stamen.Toner, options = providerTileOptions(noWrap = TRUE), group = "Stamen") %>%
  addMarkers(~Lat, ~Long) %>%
  addLayersControl(
    baseGroups = c("NGC", "Stamen"),
overlayGroups = c("Homes", "WASeniors"),
options = layersControlOptions(collapsed = FALSE)
)

```



#Reading data 
```{r}
Rail <- read.csv('C:/Users/shrey/Dropbox/rShiny/hw2/hw2leaflet/hw2Shreyapr/New_York_State__Railroad_Lines.csv')
View(Rail)
```

# Lines
```{r, lines}
rail <- readOGR("./New_York_State__Railroad_Lines/New_York_State_Railroad_Lines.shp")

leaflet(data = rail) %>%
  addProviderTiles("Stamen.Watercolor", options = providerTileOptions(noWrap = TRUE)) %>%
  addPolylines(color = "brown")


```




```{r}

states <- readOGR("shp/cb_2013_us_state_20m.shp",
  layer = "cb_2013_us_state_20m", GDAL1_integer64_policy = TRUE)



neStates <- subset(states, states$STUSPS %in% c(
  "CT","ME","MA","NH","RI","VT","NY","NJ","PA"
))

leaflet(neStates) %>%
  addPolygons(color = "#444444", weight = 1, smoothFactor = 0.5,
    opacity = 1.0, fillOpacity = 0.5,
    fillColor = ~colorQuantile("YlOrRd", ALAND)(ALAND),
    highlightOptions = highlightOptions(color = "white", weight = 2,
      bringToFront = TRUE))

```

